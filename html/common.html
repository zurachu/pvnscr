<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=shift_jis">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>P/ECE VISUALNOVEL Scripter</title>
</head>

<body>
<pre>#define _SIZEOF_STACK_		8
#define _SIZEOF_LOCAL_		256
#define _SIZEOF_GLOBAL_	16

typedef struct tagSCRIPT_POINTER {	// スクリプトポインタ
	unsigned long ptr;	// ポインタ
	unsigned long line;	// 行
} SCRIPT_POINTER;

typedef struct tagWINDOW_STATE {	// ウィンドウの状態
	short pos;		// 位置	0:上から	1:下から
	short line;		// 行数	1〜8
	short font;		// 文字	0:標準	1:縮小
	short color;	// 色	0:白	1:黒
} WINDOW_STATE;

typedef struct tagSAVE_DATA {
	SCRIPT_POINTER sp;						// ロード時のスクリプト実行開始ポインタ
	SCRIPT_POINTER stack[_SIZEOF_STACK_];			// gosub用スタック
	char msg[241];							// 表示中のメッセージ
	short msgSpeed;							// メッセージスピード（Ver3.1追加！）
	char clickStr[17];						// 自動キー待ち文字群
	short clickLine;							// clickstr時の改ページ行数
	short variable[_SIZEOF_LOCAL_+_SIZEOF_GLOBAL_];	// ローカル変数＋グローバル変数
	WINDOW_STATE win;							// ウィンドウの状態
	short bgColor;							// 背景色
	char pgdName[7][17];						// 画像ファイル名（左、中、右、Sp1〜3、背景）
	short sprV[3];							// スプライト表示フラグ
	short sprX[3];							// スプライトX座標
	short sprY[3];							// スプライトY座標
	short zOrder[3];							// 画像表示の奥行き順（奥から）
	char pmdName[17];							// BGMファイル名
} SAVE_DATA;</pre>
</body>

</html>
